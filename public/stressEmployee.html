<!DOCTYPE HTML>
<!--
	Photon by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>HardwareThon2018StressEmployee</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
			

				
				<div class="inner">
						<span ><img src="images/logo.jpg" alt="" height="75" width="250"  /></span>
							 <h1><strong>Niveles De Estrés</strong></h1>
                    <p> (1) Estrés Controlado</p>
                    <p> (2) Estrés Riesgoso</p>
                    <p> (3) Estrés Alto</p>
                    <ul class="actions special">
                        <li><a href="#one" class="button scrolly">Analizar</a></li>
                    </ul>
					
					
				</div>
			</section>

		<!-- One -->
			<section id="one" class="main style1">
				<div class="container">
						 <div id="chart_div" style="width: 100%; height: 500px;"></div>
				</div>
			</section>

		

		
			
		
		<!-- Footer -->
			<section id="footer">
				
				<ul class="icons">
					<li><a href="#" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon alt fa-facebook"><span class="label">Facebook</span></a></li>
					<li><a href="#" class="icon alt fa-instagram"><span class="label">Instagram</span></a></li>
					<li><a href="#" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
					<li><a href="#" class="icon alt fa-envelope"><span class="label">Email</span></a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; WEB</li><li>Equipo:<a href="#">e-estrés</a></li>
				</ul>
			</section>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>


	
	</body>
   <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
            var myObj, i,counter=0,temp,temp2=0, x=[],y=[],z=[],p=[['Dia', 'Estrés']];
            var xE=[],yE=[],zE=[];
            myObj = { "Pulso":[
                {"_id":12569875231,"_idUsuario":98856321456,"pulso":50,"dia":1},
                {"_id":99999,"_idUsuario":98856321456,"pulso":55,"dia":2},  
                {"_id":99999,"_idUsuario":98856321456,"pulso":60,"dia":3},
                {"_id":99999,"_idUsuario":98856321456,"pulso":55,"dia":4},
                {"_id":99999,"_idUsuario":98856321456,"pulso":70,"dia":5},
                {"_id":99999,"_idUsuario":98856321456,"pulso":80,"dia":6},
                {"_id":99999,"_idUsuario":98856321456,"pulso":90,"dia":7},
                {"_id":99999,"_idUsuario":98856321456,"pulso":85,"dia":8},
                {"_id":99999,"_idUsuario":98856321456,"pulso":75,"dia":9},
                {"_id":99999,"_idUsuario":98856321456,"pulso":100,"dia":10},
                {"_id":99999,"_idUsuario":98856321456,"pulso":120,"dia":11},
                {"_id":99999,"_idUsuario":98856321456,"pulso":110,"dia":12},
                {"_id":22222,"_idUsuario":98856321456,"pulso":115,"dia":13},
                 {"_id":22222,"_idUsuario":98856321456,"pulso":120,"dia":14},
                  {"_id":22222,"_idUsuario":98856321456,"pulso":100,"dia":15}

              ],"Voz":[
                {"_id":12569875231,"_idUsuario":98856321456,"valor":[{"sadness": 0.854}, {"happy": 5}],"dia":1},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 6}, {"happy": 2}],"dia":2},  
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness":5}, {"happy": 3}],"dia":3},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 1}, {"happy": 5}],"dia":4},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 2}, {"happy": 8}],"dia":5},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness":15}, {"happy": 10}],"dia":6},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 1}, {"happy": 11}],"dia":7},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 15}, {"happy": 15}],"dia":8},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 14}, {"happy": 8}],"dia":9},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 12}, {"happy": 1}],"dia":10},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 13}, {"happy": 10}],"dia":11},
                {"_id":99999,"_idUsuario":98856321456,"valor":[{"sadness": 10}, {"happy": 5}],"dia":12},
                {"_id":22222,"_idUsuario":98856321456,"valor":[{"sadness": 11}, {"happy": 6}],"dia":13},
                {"_id":22222,"_idUsuario":98856321456,"valor":[{"sadness": 12}, {"happy": 6}],"dia":14},
                {"_id":22222,"_idUsuario":98856321456,"valor":[{"sadness": 15}, {"happy": 6}],"dia":15}

              ],
              "EEG":[
                {"_id":12569875231,"_idUsuario":98856321456,"pulso":1,"dia":1},
                {"_id":99999,"_idUsuario":98856321456,"pulso":5,"dia":2},  
                {"_id":99999,"_idUsuario":98856321456,"pulso":10,"dia":3},
                {"_id":99999,"_idUsuario":98856321456,"pulso":15,"dia":4},
                {"_id":99999,"_idUsuario":98856321456,"pulso":20,"dia":5},
                {"_id":99999,"_idUsuario":98856321456,"pulso":8,"dia":6},
                {"_id":99999,"_idUsuario":98856321456,"pulso":20,"dia":7},
                {"_id":99999,"_idUsuario":98856321456,"pulso":25,"dia":8},
                {"_id":99999,"_idUsuario":98856321456,"pulso":30,"dia":9},
                {"_id":99999,"_idUsuario":98856321456,"pulso":35,"dia":10},
                {"_id":99999,"_idUsuario":98856321456,"pulso":34,"dia":11},
                {"_id":99999,"_idUsuario":98856321456,"pulso":25,"dia":12},
                {"_id":22222,"_idUsuario":98856321456,"pulso":30,"dia":13},
                {"_id":22222,"_idUsuario":98856321456,"pulso":40,"dia":14},
                {"_id":22222,"_idUsuario":98856321456,"pulso":50,"dia":15},

              ]
               };

            for (i in myObj.Pulso) {
                x.push(myObj.Pulso[i].pulso);
                if(x[i] > 50 ){
                    if(x[i] < 80){
                        xE.push(1);

                    }
                    else if (x[i] > 80){
                        if(x[i] < 100){
                            xE.push(2);
                        }
                        else {
                             xE.push(3);
                        }
                    }
                    else {
                        xE.push(1);
                    }
                }
                else {
                     xE.push(1);
                }
            }
            for (i in myObj.Voz) {
                            
               
                if( myObj.Voz[i].valor[0].sadness > myObj.Voz[i].valor[1].happy){
                    yE.push(3);
                }
                else {
                    yE.push(2);
                }
            
               
            }
             for (i in myObj.EEG) {
                z.push(myObj.EEG[i].pulso);
                if(z[i] > 20 ){
                    zE.push(3);
                }
                else if (z[i] > 12){
                    zE.push(2);

                }
                else {
                    zE.push(1);

                }
            }

              for (i in myObj.EEG) {
                temp = xE[i] + yE[i] + zE[i];
                temp= Math.round(temp/3);
                temp2 = temp2 + temp;
                p.push([myObj.EEG[i].dia,temp]);
                counter = counter + 1;
    
            }
            temp2 = Math.round(temp2 / counter);
            var titleEstres = 'NIVEL DE ESTRÉS ALTO';
            var estresColor = '#ff0000';
            if(temp2 == 1){
                estresColor = '#00ff00';
                titleEstres = 'NIVEL DE ESTRÉS CONTROLADO';
            }
            else if (temp2 == 2){
                estresColor = '#ffff00';
                titleEstres = 'NIVEL DE ESTRÉS RIESGOSO';
            }
            else {
                estresColor = '#ff0000';
                titleEstres = 'NIVEL DE ESTRÉS ALTO';
            }
          

            //for (i in myObj.Pulso) {
               // x.push([myObj.Pulso[i].dia,myObj.Pulso[i].pulso]);
            //}


        var data = google.visualization.arrayToDataTable(p);
      
        var options = {
          title: titleEstres,
          hAxis: {title: 'Dia',  titleTextStyle: {color: '#333'}},
          vAxis: {minValue: 0},
         series: {
            0: { color: estresColor },
          }

        };

        var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>

</html>